{"version":3,"sources":["js/Utils/EventEmitter.js","js/Utils/Time.js","init.js"],"names":["EventEmitter","callbacks","base","_names","callback","that","console","warn","names","resolveNames","forEach","_name","name","resolveName","namespace","Object","value","Array","push","keys","length","_args","finalResult","result","args","apply","replace","split","newName","parts","original","Time","start","Date","now","current","elapsed","delta","tick","bind","ticker","window","requestAnimationFrame","world","step","eventHandler","trigger","renderer","render","scene","camera","instance","cancelAnimationFrame","time"],"mappings":"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","file":"init.9d6cb373.js","sourceRoot":"../src","sourcesContent":["export default class EventEmitter\n{\n    /**\n     * Constructor\n     */\n    constructor()\n    {\n        this.callbacks = {}\n        this.callbacks.base = {}\n    }\n\n    /**\n     * On\n     */\n    on(_names, callback)\n    {\n        const that = this\n        // Errors\n        if(typeof _names === 'undefined' || _names === '')\n        {\n            console.warn('wrong names')\n            return false\n        }\n\n        if(typeof callback === 'undefined')\n        {\n            console.warn('wrong callback')\n            return false\n        }\n\n        // Resolve names\n        const names = this.resolveNames(_names)\n\n        // Each name\n        names.forEach(function(_name)\n        {\n            // Resolve name\n            const name = that.resolveName(_name)\n\n            // Create namespace if not exist\n            if(!(that.callbacks[ name.namespace ] instanceof Object))\n                that.callbacks[ name.namespace ] = {}\n\n            // Create callback if not exist\n            if(!(that.callbacks[ name.namespace ][ name.value ] instanceof Array))\n                that.callbacks[ name.namespace ][ name.value ] = []\n\n            // Add callback\n            that.callbacks[ name.namespace ][ name.value ].push(callback)\n        })\n        return this\n    }\n\n    /**\n     * Off\n     */\n    off(_names)\n    {\n        const that = this\n\n        // Errors\n        if(typeof _names === 'undefined' || _names === '')\n        {\n            console.warn('wrong name')\n            return false\n        }\n\n        // Resolve names\n        const names = this.resolveNames(_names)\n\n        // Each name\n        names.forEach(function(_name)\n        {\n            // Resolve name\n            const name = that.resolveName(_name)\n\n            // Remove namespace\n            if(name.namespace !== 'base' && name.value === '')\n            {\n                delete that.callbacks[ name.namespace ]\n            }\n\n            // Remove specific callback in namespace\n            else\n            {\n                // Default\n                if(name.namespace === 'base')\n                {\n                    // Try to remove from each namespace\n                    for(const namespace in that.callbacks)\n                    {\n                        if(that.callbacks[ namespace ] instanceof Object && that.callbacks[ namespace ][ name.value ] instanceof Array)\n                        {\n                            delete that.callbacks[ namespace ][ name.value ]\n\n                            // Remove namespace if empty\n                            if(Object.keys(that.callbacks[ namespace ]).length === 0)\n                                delete that.callbacks[ namespace ]\n                        }\n                    }\n                }\n\n                // Specified namespace\n                else if(that.callbacks[ name.namespace ] instanceof Object && that.callbacks[ name.namespace ][ name.value ] instanceof Array)\n                {\n                    delete that.callbacks[ name.namespace ][ name.value ]\n\n                    // Remove namespace if empty\n                    if(Object.keys(that.callbacks[ name.namespace ]).length === 0)\n                        delete that.callbacks[ name.namespace ]\n                }\n            }\n        })\n\n        return this\n    }\n\n    /**\n     * Trigger\n     */\n    trigger(_name, _args)\n    {\n        // Errors\n        if(typeof _name === 'undefined' || _name === '')\n        {\n            console.warn('wrong name')\n            return false\n        }\n        \n\n        const that = this\n        let finalResult = null\n        let result = null\n\n        // Default args\n        const args = !(_args instanceof Array) ? [] : _args\n\n        // Resolve names (should on have one event)\n        let name = this.resolveNames(_name)\n\n        // Resolve name\n        name = this.resolveName(name[ 0 ])\n\n        // Default namespace\n        if(name.namespace === 'base')\n        {\n            // Try to find callback in each namespace\n            for(const namespace in that.callbacks)\n            {\n                if(that.callbacks[ namespace ] instanceof Object && that.callbacks[ namespace ][ name.value ] instanceof Array)\n                {\n                    that.callbacks[ namespace ][ name.value ].forEach(function(callback)\n                    {\n                        result = callback.apply(that, args)\n\n                        if(typeof finalResult === 'undefined')\n                        {\n                            finalResult = result\n                        }\n                    })\n                }\n            }\n        }\n\n        // Specified namespace\n        else if(this.callbacks[ name.namespace ] instanceof Object)\n        {\n            if(name.value === '')\n            {\n                console.warn('wrong name')\n                return this\n            }\n\n            that.callbacks[ name.namespace ][ name.value ].forEach(function(callback)\n            {\n                result = callback.apply(that, args)\n\n                if(typeof finalResult === 'undefined')\n                    finalResult = result\n            })\n        }\n\n        return finalResult\n    }\n\n    /**\n     * Resolve names\n     */\n    resolveNames(_names)\n    {\n        let names = _names\n        names = names.replace(/[^a-zA-Z0-9 ,/.]/g, '')\n        names = names.replace(/[,/]+/g, ' ')\n        names = names.split(' ')\n\n        return names\n    }\n\n    /**\n     * Resolve name\n     */\n    resolveName(name)\n    {\n        const newName = {}\n        const parts = name.split('.')\n\n        newName.original  = name\n        newName.value     = parts[ 0 ]\n        newName.namespace = 'base' // Base namespace\n\n        // Specified namespace\n        if(parts.length > 1 && parts[ 1 ] !== '')\n        {\n            newName.namespace = parts[ 1 ]\n        }\n\n        return newName\n    }\n}\n","export default class Time\n{\n    /**\n     * Constructor\n     */\n    constructor()\n    {\n        this.start = Date.now()\n        this.current = this.start\n        this.elapsed = 0\n        this.delta = 16\n\n        this.tick = this.tick.bind(this)\n    }\n\n    /**\n     * Tick\n     */\n    tick()\n    {\n        this.ticker = window.requestAnimationFrame(this.tick)\n\n        const current = Date.now()\n\n        this.delta = current - this.current\n        this.elapsed = current - this.start\n        this.current = current\n\n        if(this.delta > 60)\n        {\n            this.delta = 60\n        }\n\n        world.step(1/60, this.delta, 3)\n        eventHandler.trigger('tick')\n        renderer.render(scene, camera.instance)\n    }\n\n    /**\n     * Stop\n     */\n    stop()\n    {\n        window.cancelAnimationFrame(this.ticker)\n    }\n}\n","import EventEmitter from './js/Utils/EventEmitter.js'\nimport Time from './js/Utils/Time.js'\n\neventHandler = new EventEmitter()\ntime = new Time();"]}